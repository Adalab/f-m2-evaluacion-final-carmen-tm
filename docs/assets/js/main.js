"use strict";const inputEl=document.querySelector(".app-input"),btnEl=document.querySelector(".btn"),resultListEl=document.querySelector(".results__list"),favouritesListEl=document.querySelector(".favourites__list");let resultsArr=[];const myFavShowsArr=[],favShowsObjectsArray=[];function createItemsFromSearch(t){resultsArr=[];for(const e of t){const t=e.show.name;let r="";r=e.show.image?e.show.image.medium:`https://via.placeholder.com/210x295/f4eded/9b1414/?text=${t}`;const s=document.createElement("li"),n=document.createElement("img");n.setAttribute("src",r),n.setAttribute("alt",t);const o=document.createElement("h3"),c=document.createTextNode(t);o.appendChild(c),s.setAttribute("id",t),s.appendChild(n),s.appendChild(o),resultsArr.push(s)}return resultsArr}function appendClass(t,e){for(const r of t)r.classList.add(e);return t}function paintResults(t,e){e.innerHTML="";for(const r of t)e.appendChild(r)}function storeArrInObject(t){for(let e=0;e<t.length;e++){const r=t[e].firstElementChild.src,s=t[e].lastElementChild.innerHTML;favShowsObjectsArray[e]={url:r,title:s}}}function createItemsFromObjArr(t){const e=[];for(const r of t){const t=r.title,s=r.url,n=document.createElement("li"),o=document.createElement("img");o.setAttribute("src",s),o.setAttribute("alt",t);const c=document.createElement("h3"),a=document.createTextNode(t);c.appendChild(a),n.appendChild(o),n.appendChild(c),n.classList.add("preview--favourite"),e.push(n)}return e}function handlerCardsFavClick(t){const e=t.currentTarget;if(!e.classList.contains("show-card--favourite")){e.classList.add("show-card--favourite"),myFavShowsArr.push(e),console.log("myFavShowsArr",myFavShowsArr),storeArrInObject(myFavShowsArr),console.log("favShowsObjectsArray",favShowsObjectsArray);const t=createItemsFromObjArr(favShowsObjectsArray);console.log("newItemToPaint",t),paintResults(t,favouritesListEl)}}function handlerBtnSearch(){const t=inputEl.value;fetch(`http://api.tvmaze.com/search/shows?q=${t}`).then(function(t){return t.json()}).then(function(t){return t}).then(function(t){paintResults(appendClass(createItemsFromSearch(t),"show-card"),resultListEl);const e=document.querySelectorAll(".show-card");for(const t of e)t.addEventListener("click",handlerCardsFavClick)})}btnEl.addEventListener("click",handlerBtnSearch);