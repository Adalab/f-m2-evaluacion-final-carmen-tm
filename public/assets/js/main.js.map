{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["/* eslint-disable no-console */\n'use strict';\n\n//Get elements\nconst inputEl = document.querySelector('.app-input');\nconst btnEl = document.querySelector('.btn');\n\nconst resultListEl = document.querySelector('.results__list');\nconst favouritesListEl = document.querySelector('.favourites__list');\n// console.log(inputEl, btnEl, resultListEl, favouritesListEl);\n\nconst myFavouriteShows = [];\n\nfunction createItem(a, b) {\n  return (\n    `<li class=\"show-card\">\n          <img src=\"` +\n    b +\n    `\" alt=` +\n    a +\n    `>` +\n    `<p>` +\n    a +\n    `</p>` +\n    `</li>`\n  );\n}\n\nfunction createItem2(a, b) {\n  //Create li elements\n  const newItemEl = document.createElement('li');\n  newItemEl.classList.add('show-card');\n\n  //Create content node\n  const contentItemImgEl = document.createElement('img');\n  contentItemImgEl.setAttribute('src', b);\n  contentItemImgEl.setAttribute('alt', a);\n\n  const contentItemTitleEl = document.createElement('h3');\n  const contentItemTitleText = document.createTextNode(a);\n  contentItemTitleEl.appendChild(contentItemTitleText);\n\n  newItemEl.appendChild(contentItemImgEl);\n  newItemEl.appendChild(contentItemTitleEl);\n  //   console.log(newItemEl);\n\n  return newItemEl;\n\n  //   return (\n  //     `<li class=\"show-card\">\n  //             <img src=\"` +\n  //     b +\n  //     `\" alt=` +\n  //     a +\n  //     `>` +\n  //     `<p>` +\n  //     a +\n  //     `</p>` +\n  //     `</li>`\n  //   );\n}\n\nfunction paintResults(array, list) {\n  for (const element of array) {\n    const arrNames = element.show.name;\n    let arrUrls = '';\n\n    if (!element.show.image) {\n      arrUrls = `https://via.placeholder.com/210x295/f4eded/9b1414/?text=${arrNames}`;\n    } else {\n      arrUrls = element.show.image.medium;\n    }\n\n    const itemsFilled = createItem2(arrNames, arrUrls);\n\n    list.appendChild(itemsFilled);\n    // list.innerHTML += itemsFilled;\n  }\n}\n\nfunction paintResultsReduced(array, list) {\n  for (const element of array) {\n    console.log('element', element);\n    // const arrFavouriteNames = element.text\n    const favItem = document.createElement('li');\n    favItem.classList.add('preview--favourite');\n\n    const favItemContent = element.innerHTML;\n    console.log('favItemContent', favItemContent);\n\n    favItem.appendChild(favItemContent);\n\n    // const favItemText = document.createElement(favItemContent);\n    // favItem.appendChild(favItemText);\n    // console.log('favItem', favItem);\n\n    list.appendChild(favItem);\n\n    // list.innerHTML += favouriteItem;\n  }\n}\n\nfunction selectFavourite(a) {\n  //Include favourite items in an array\n  //NOT WORKING. IF NOT FAVOURITE (NOT HAVING THAT CLASS), IT SHOULD REMOVE IT FROM THE ARRAY\n  if (a.classList.contains('show-card--favourite')) {\n    myFavouriteShows.push(a);\n    console.log('myFavouriteShows', myFavouriteShows);\n  } else {\n    delete myFavouriteShows[a];\n    console.log('myFavouriteShows', myFavouriteShows);\n  }\n}\n\nfunction handlerCardsClick(event) {\n  const selectedCard = event.currentTarget;\n  //   console.log('selecting one card', selectedCard);\n\n  //Add a special class for favourites\n  selectedCard.classList.toggle('show-card--favourite');\n\n  selectFavourite(selectedCard);\n\n  //Paint favourite results on its list\n  paintResultsReduced(myFavouriteShows, favouritesListEl);\n}\n\n//Handler for main button\nfunction handlerBtn() {\n  //Save user input value\n  const userValue = inputEl.value;\n  //   console.log(userValue);\n  //Connect to API\n  fetch(`http://api.tvmaze.com/search/shows?q=${userValue}`)\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(responseParsed) {\n      return responseParsed;\n    })\n    .then(function(data) {\n      //The response is an array of objects\n      const arrShows = data;\n      //   console.log('arrShows', arrShows);\n\n      //Reset results\n      resultListEl.innerHTML = '';\n      //Paint results\n      paintResults(arrShows, resultListEl);\n\n      //Add listener to each card from the results\n      const resultsCardEl = document.querySelectorAll('.show-card');\n      for (const card of resultsCardEl) {\n        card.addEventListener('click', handlerCardsClick);\n      }\n    });\n}\n\n//Add lister to main button\nbtnEl.addEventListener('click', handlerBtn);\n"]}