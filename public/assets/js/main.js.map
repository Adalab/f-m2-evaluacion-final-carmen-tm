{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["/* eslint-disable no-console */\n'use strict';\n\n//Get elements\nconst inputEl = document.querySelector('.app-input');\nconst btnEl = document.querySelector('.btn');\n\n//Get list elements to fill with items\nconst resultListEl = document.querySelector('.results__list');\nconst favouritesListEl = document.querySelector('.favourites__list');\n\n//FIRST Empty array for items results from search\nlet resultsArr = [];\n//Empty array for storing favourites shows\nconst myFavShowsArr = [];\n//Emtpy array of objects for storing in LS\n// const favArrObjects = [];\n\nfunction createItemsFromSearch(array) {\n  //Reset array\n  resultsArr = [];\n  //Iterate the api results to create items with content\n  for (const element of array) {\n    const arrNames = element.show.name;\n    let arrUrls = '';\n\n    if (!element.show.image) {\n      arrUrls = `https://via.placeholder.com/210x295/f4eded/9b1414/?text=${arrNames}`;\n    } else {\n      arrUrls = element.show.image.medium;\n    }\n\n    //Create li elements\n    const newItemEl = document.createElement('li');\n\n    //Create content node\n    const contentItemImgEl = document.createElement('img');\n    contentItemImgEl.setAttribute('src', arrUrls);\n    contentItemImgEl.setAttribute('alt', arrNames);\n\n    const contentItemTitleEl = document.createElement('h3');\n    const contentItemTitleText = document.createTextNode(arrNames);\n    contentItemTitleEl.appendChild(contentItemTitleText);\n\n    //Add id to make easier further instructions\n    newItemEl.setAttribute('id', arrNames);\n\n    newItemEl.appendChild(contentItemImgEl);\n    newItemEl.appendChild(contentItemTitleEl);\n\n    //Fill empty array with all items:\n    resultsArr.push(newItemEl);\n  }\n  console.log('my array of results is working', 'resultsArr', resultsArr);\n  return resultsArr;\n}\n\n//SECOND Add class\nfunction appendClass(arrayItems, myClass) {\n  for (const item of arrayItems) {\n    item.classList.add(myClass);\n  }\n  return arrayItems;\n}\n\n//THIRD Append each li to its list\nfunction paintResults(array, list) {\n  for (const element of array) {\n    list.appendChild(element);\n  }\n}\n\n// function cloneItems(array, myClass) {\n//   let favItemsClonedArray = [];\n//   for (const item of array) {\n//     const favItemcloned = item.cloneNode(true);\n//     favItemcloned.classList.add(myClass);\n//     favItemsClonedArray.push(favItemcloned);\n//   }\n//   return favItemsClonedArray;\n// }\n\n// function cloneArray(array) {\n//   //The method slice() with a 0 as first argument create a clone of the original array\n//   return array.slice(0);\n// }\n//Add favourite functionlity on click\nfunction handlerCardsFavClick(event) {\n  const selectedCard = event.currentTarget;\n\n  //Add a special class for favourites\n  selectedCard.classList.add('show-card--favourite');\n\n  //Store in my favArray empty array\n  myFavShowsArr.push(selectedCard);\n  console.log('myFavShowsArr', myFavShowsArr);\n\n  //Clone items to add them on my favourist list and add them a class\n  // const favItemsCloned = cloneItems(myFavShowsArr, 'preview--favourite');\n  // console.log(favItemsCloned);\n\n  const myFavShowsArrCloned = cloneArray(myFavShowsArr);\n  console.log(myFavShowsArr);\n\n  // THIRD Paint li on my favourist list\n  paintResults(myFavShowsArrCloned, favouritesListEl);\n}\n\n//Handler for main button\nfunction handlerBtnSearch() {\n  //Save user input value\n  const userValue = inputEl.value;\n  //   console.log(userValue);\n  //Connect to API\n  fetch(`http://api.tvmaze.com/search/shows?q=${userValue}`)\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(responseParsed) {\n      return responseParsed;\n    })\n    .then(function(data) {\n      //The response is an array of objects\n      const arrShows = data;\n      // console.log('arrShows', arrShows);\n\n      //Reset results list on every search\n      resultListEl.innerHTML = '';\n\n      //FIRST Create li items from data\n      const myItems = createItemsFromSearch(arrShows);\n      //SECOND add card class\n      const myItemsWithClass = appendClass(myItems, 'show-card');\n      //THIRD Paint li results\n      paintResults(myItemsWithClass, resultListEl);\n\n      // Add listener to each card from the results to add Favourites functionality\n      const resultsCardEl = document.querySelectorAll('.show-card');\n      for (const card of resultsCardEl) {\n        card.addEventListener('click', handlerCardsFavClick);\n      }\n    });\n}\n\n//Add lister to main Search button\nbtnEl.addEventListener('click', handlerBtnSearch);\n"]}